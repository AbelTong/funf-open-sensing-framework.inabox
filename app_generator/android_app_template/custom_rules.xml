<?xml version="1.0" encoding="UTF-8"?>
<project name="Info" default="help">

	<loadproperties srcFile="inabox.properties" />
	<target name="customize">
	    	
	    	<!-- Rename package dir -->
	    	<move todir="${basedir}/src/funfinabox/${inabox.app.id}" includeEmptyDirs="yes" verbose="true">
		        <fileset dir="${basedir}/src/funfinabox/__ID__"  />
		</move>
	    	
	    	<!-- Replace tokens in files -->
	    	<replace dir="${basedir}">
	    		<include name="**/*.java"/>
	    		<include name="**/*.xml"/>
	    		<exclude name="build.xml"/>
			<exclude name="custom_rules.xml"/>
	    	  	<replacefilter token="__NAME__" value="${inabox.app.name}"/>
	    		<replacefilter token="__ID__" value="${inabox.app.id}"/>
	    		<replacefilter token="__SERVICES__" value="${inabox.app.services}"/>
	    		<replacefilter token="__PERMISSIONS__" value="${inabox.app.permissions}"/>
	    		<replacefilter token="__PROBES__" value="${inabox.app.probes}"/>
	    		<replacefilter token="__DESCRIPTION__" value="${inabox.app.description}"/>
	    		<replacefilter token="__EMAIL__" value="${inabox.app.email}"/>
	    		<replacefilter token="__CONFIG__" value="${inabox.app.config}"/>
	    		<replacefilter token="__PASSWORD__" value="${inabox.app.password}"/>
	    		<replacefilter token="__DROPBOX_APP_KEY__" value="${inabox.dropbox.appkey}"/>
	    		<replacefilter token="__DROPBOX_APP_SECRET__" value="${inabox.dropbox.appsecret}"/>	
	    		<replacefilter token="__DROPBOX_TOKEN__" value="${inabox.dropbox.token}"/>
	    		<replacefilter token="__DROPBOX_TOKEN_SECRET__" value="${inabox.dropbox.tokensecret}"/>	
	    	</replace>
	</target>
</project>
